<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>TradeWise AI - AI-Powered Trading Platform v2</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/premium_features.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/tier_styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/institutional_ui_optimization.css') }}">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #0A0B0F;
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
            margin: 0;
            padding: 0;
        }

        .chatgpt-container {
            min-height: 100vh;
            background: #0A0B0F;
            color: white;
            display: flex;
            flex-direction: column;
        }

        .header {
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: center;
            align-items: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            position: sticky;
            top: 0;
            background: #0A0B0F;
            z-index: 100;
        }

        .brand-container {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
        }

        .animated-brand {
            background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 25%, #8b5cf6 50%, #ec4899 75%, #60a5fa 100%);
            background-size: 300% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: shimmer 3s ease-in-out infinite;
            font-weight: 900;
            font-size: 1.8rem;
            text-decoration: none;
        }

        @keyframes shimmer {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .tagline {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            margin-left: 1rem;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .subscription-status {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .crown-upgrade-button {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            border: none;
            border-radius: 12px;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            color: white;
        }

        .crown-upgrade-button:hover {
            transform: scale(1.1);
            box-shadow: 0 10px 30px rgba(245, 158, 11, 0.4);
            color: white;
        }

        .main-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            height: calc(100vh - 80px);
            overflow-y: auto;
        }

        .search-section {
            padding: 6rem 2rem 3rem;
            text-align: center;
            background: linear-gradient(180deg, rgba(10, 11, 15, 0.8) 0%, rgba(10, 11, 15, 0.95) 100%);
            position: relative;
        }

        .hero-tagline {
            font-size: 0.85rem;
            background: linear-gradient(135deg, #60a5fa, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
            letter-spacing: 0.3px;
            text-transform: uppercase;
            text-align: center;
            margin-bottom: 1.5rem;
            margin-top: 6rem;
            opacity: 0;
            animation: taglineFadeIn 1s ease-out 0.4s forwards;
        }

        .search-title {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #ffffff, #e2e8f0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.2;
        }

        .search-container {
            position: relative;
            max-width: 550px;
            margin: 0 auto 1.5rem;
            display: flex;
            align-items: center;
        }

        .search-input {
            width: 100%;
            padding: 0.75rem 3rem 0.75rem 1.5rem;
            height: 48px;
            font-size: 1rem;
            background: rgba(255, 255, 255, 0.08);
            border: 2px solid rgba(255, 255, 255, 0.12);
            border-radius: 25px;
            color: white;
            outline: none;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            box-sizing: border-box;
        }

        .search-input:focus {
            border-color: rgba(96, 165, 250, 0.4);
            box-shadow: 0 0 30px rgba(96, 165, 250, 0.2);
            background: rgba(255, 255, 255, 0.12);
        }

        .search-button {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            border: none;
            color: white;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            width: 30px;
            height: 30px;
            font-size: 0.8rem;
        }

        .search-button:hover {
            transform: translateY(-50%) scale(1.05);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }

        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .popular-shortcuts {
            display: flex;
            gap: 0.75rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 1rem;
        }

        .shortcut-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.25rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .shortcut-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(96, 165, 250, 0.3);
            transform: translateY(-2px);
        }

        .dropdown-nav-section {
            padding: 0.5rem 2rem 3rem;
            background: rgba(10, 11, 15, 0.95);
        }

        .dropdown-nav {
            max-width: 600px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .dropdown-item {
            position: relative;
        }

        .dropdown-btn {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.25rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.95rem;
        }

        .dropdown-btn:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(96, 165, 250, 0.2);
            transform: translateY(-1px);
        }

        .dropdown-content-header {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .dropdown-icon {
            font-size: 1.2rem;
        }

        .dropdown-title {
            font-weight: 600;
            font-size: 1rem;
        }

        .dropdown-indicator {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.6);
            background: rgba(96, 165, 250, 0.1);
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            border: 1px solid rgba(96, 165, 250, 0.2);
        }

        .dropdown-arrow {
            font-size: 0.8rem;
            transition: transform 0.3s ease;
        }

        .dropdown-content {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: rgba(15, 23, 42, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 1.5rem;
            backdrop-filter: blur(20px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            margin-top: 0.5rem;
            animation: dropdownSlideIn 0.3s ease;
        }

        @keyframes dropdownSlideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .ai-results {
            padding: 2rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 4rem;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateY(-5px);
            border-color: rgba(96, 165, 250, 0.3);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: block;
        }

        .feature-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .feature-description {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.6;
        }

        @media (max-width: 768px) {
            .header {
                padding: 1rem;
                flex-direction: column;
                gap: 1rem;
            }

            .search-section {
                padding: 5rem 1rem 2rem;
            }

            .search-title {
                font-size: 1.8rem;
                margin-bottom: 1rem;
            }

            .robot-mascot {
                top: 100px;
                width: 45px;
                height: 60px;
            }

            .robot-head {
                width: 35px;
                height: 35px;
            }

            .robot-body {
                width: 25px;
                height: 20px;
            }

            .dropdown-nav-section {
                padding: 1rem 1rem 3rem;
            }

            .dropdown-nav {
                gap: 0.5rem;
            }

            .dropdown-btn {
                padding: 0.75rem 1rem;
                font-size: 0.9rem;
            }

            .dropdown-content {
                margin-top: 0.25rem;
                padding: 0.75rem;
            }

            .popular-shortcuts {
                gap: 0.5rem;
                margin-top: 0.75rem;
            }

            .shortcut-btn {
                padding: 0.5rem 1rem;
                font-size: 0.85rem;
            }
        }

        .suggestions-container {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: rgba(15, 23, 42, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(20px);
            max-height: 300px;
            overflow-y: auto;
            display: none;
            z-index: 1000;
            margin-top: 0.5rem;
        }

        .suggestion-item {
            padding: 1rem;
            cursor: pointer;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            transition: background 0.2s ease;
            color: white;
        }

        .suggestion-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .suggestion-item:last-child {
            border-bottom: none;
        }

        @keyframes taglineFadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .ai-result {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(96, 165, 250, 0.3);
            border-radius: 15px;
            padding: 2rem;
            margin-top: 2rem;
            text-align: left;
            display: none;
        }

        .stock-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .stock-price {
            font-size: 2rem;
            font-weight: 700;
            color: #10b981;
        }

        .price-change {
            font-size: 1.1rem;
            font-weight: 600;
        }

        .price-change.positive {
            color: #10b981;
        }

        .price-change.negative {
            color: #ef4444;
        }

        .ai-recommendation {
            background: linear-gradient(135deg, #059669, #10b981);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            font-weight: 600;
            display: inline-block;
        }

        .confidence-score {
            background: rgba(96, 165, 250, 0.2);
            color: #60a5fa;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            font-weight: 600;
            margin-left: 1rem;
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }

        .action-btn {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            border: none;
            color: white;
            padding: 0.75rem 2rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .action-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.4);
        }

        .action-btn.secondary {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .action-btn.secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.1);
        }

        /* Enhanced AI Analysis Styles */
        .ai-analysis-card {
            background: linear-gradient(145deg, rgba(15, 17, 23, 0.95), rgba(20, 22, 28, 0.95));
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem auto;
            max-width: 900px;
            border: 1px solid rgba(59, 130, 246, 0.2);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(20px);
        }

        .stock-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .stock-title {
            color: white;
            font-size: 1.8rem;
            font-weight: 700;
            margin: 0 0 0.5rem 0;
        }

        .stock-metrics {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 0.5rem;
        }

        .stock-price {
            font-size: 2rem;
            font-weight: 800;
            color: #60a5fa;
        }

        .ai-recommendation-badge {
            text-align: right;
        }

        .recommendation {
            display: block;
            padding: 0.6rem 1.2rem;
            border-radius: 25px;
            color: white;
            font-weight: 700;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .confidence, .risk-level {
            display: block;
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.8rem;
            margin-bottom: 0.3rem;
        }

        .ai-analysis-section {
            margin: 2rem 0;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .ai-analysis-section h4 {
            color: #60a5fa;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .analysis-content {
            line-height: 1.7;
            color: rgba(255, 255, 255, 0.9);
        }

        .technical-indicators, .key-metrics {
            margin: 1.5rem 0;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .technical-indicators h4, .key-metrics h4 {
            color: #8b5cf6;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .indicators-grid, .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .indicator, .metric {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .indicator span:first-child, .metric span:first-child {
            color: rgba(255, 255, 255, 0.7);
        }

        .indicator span:last-child, .metric span:last-child {
            color: white;
            font-weight: 600;
        }

        .oversold { color: #10b981 !important; }
        .overbought { color: #ef4444 !important; }
        .neutral { color: #f59e0b !important; }
        .high-volume { color: #10b981 !important; }
        .low-volume { color: #ef4444 !important; }
        .normal-volume { color: #f59e0b !important; }

        .price-target {
            color: #60a5fa !important;
            font-weight: 700 !important;
        }

        /* Quick Analysis Styles */
        .quick-analysis-section {
            margin: 2rem 0;
            padding: 1.5rem;
            background: rgba(59, 130, 246, 0.05);
            border-radius: 15px;
            border: 1px solid rgba(59, 130, 246, 0.2);
        }

        .quick-analysis-section h4 {
            color: #60a5fa;
            margin-bottom: 1rem;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .confidence-indicator {
            margin-top: 1rem;
        }

        .confidence-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 0.5rem;
        }

        .confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #059669);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .confidence-text {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.8);
            font-weight: 600;
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .action-buttons button {
            flex: 1;
            min-width: 140px;
        }

        /* Detailed Analysis Styles */
        .detailed-analysis-section {
            margin-top: 2rem;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .detailed-analysis-section h5 {
            color: #8b5cf6;
            margin-bottom: 1rem;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .detailed-actions {
            margin-top: 2rem;
            text-align: center;
        }

        .analysis-loading {
            text-align: center;
            padding: 2rem;
        }

        .analysis-loading .loading-spinner {
            width: 40px;
            height: 40px;
            margin: 0 auto 1rem;
        }

        /* Error Styles */
        .error-container {
            text-align: center;
            padding: 2rem;
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.2);
            border-radius: 15px;
        }

        .error-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .error-message {
            text-align: center;
            padding: 1.5rem;
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.2);
            border-radius: 10px;
        }

        .btn-primary, .btn-secondary {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.3);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .btn-close {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(239, 68, 68, 0.1);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .btn-close:hover {
            background: rgba(239, 68, 68, 0.2);
            border-color: rgba(239, 68, 68, 0.5);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(239, 68, 68, 0.2);
        }

        /* Loading States */
        .loading-container {
            text-align: center;
            padding: 3rem 2rem;
            color: white;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-top: 3px solid #60a5fa;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1.5rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Error States */
        .error-card {
            text-align: center;
            padding: 3rem 2rem;
            background: rgba(239, 68, 68, 0.1);
            border-radius: 20px;
            border: 1px solid rgba(239, 68, 68, 0.2);
            color: white;
        }

        .error-icon {
            font-size: 3rem;
            color: #ef4444;
            margin-bottom: 1rem;
        }
        
        /* Robot Mascot Styles */
        .robot-mascot {
            position: absolute;
            top: 120px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 65px;
            z-index: 10;
            animation: robotFloat 3s ease-in-out infinite;
        }
        
        .robot-head {
            position: relative;
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #8b5cf6, #06b6d4);
            border-radius: 8px;
            margin: 0 auto;
            animation: robotBlink 3s infinite;
        }
        
        .robot-eye {
            position: absolute;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            top: 15px;
            animation: robotBlink 3s infinite;
        }
        
        .robot-eye.left {
            left: 50%;
            transform: translateX(-50%) translateX(-8px);
        }
        
        .robot-eye.right {
            left: 50%;
            transform: translateX(-50%) translateX(8px);
        }
        
        .robot-mouth {
            position: absolute;
            bottom: 12px;
            left: 50%;
            transform: translateX(-50%);
            width: 12px;
            height: 3px;
            background: white;
            border-radius: 2px;
        }
        
        .robot-antenna {
            position: absolute;
            top: -6px;
            left: 50%;
            transform: translateX(-50%);
            width: 2px;
            height: 12px;
            background: white;
        }
        
        .robot-antenna::after {
            content: '';
            position: absolute;
            top: -3px;
            left: -2px;
            width: 6px;
            height: 6px;
            background: #06b6d4;
            border-radius: 50%;
        }
        
        .robot-body {
            width: 30px;
            height: 25px;
            background: linear-gradient(135deg, #8b5cf6, #06b6d4);
            border-radius: 6px;
            margin: 6px auto;
            position: relative;
        }
        
        .robot-arm {
            width: 6px;
            height: 20px;
            background: linear-gradient(135deg, #8b5cf6, #06b6d4);
            border-radius: 3px;
            position: absolute;
            top: 60px;
        }
        
        .robot-arm.left {
            left: 17px;
            animation: robotWaveLeft 4s ease-in-out infinite;
        }
        
        .robot-arm.right {
            right: 17px;
            animation: robotWaveRight 4s ease-in-out infinite;
        }
        
        .robot-legs {
            position: absolute;
            bottom: 6px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 6px;
        }
        
        .robot-leg {
            width: 6px;
            height: 12px;
            background: linear-gradient(135deg, #8b5cf6, #06b6d4);
            border-radius: 3px;
        }
        
        .robot-thought {
            position: absolute;
            top: -35px;
            right: -5px;
            background: rgba(255, 255, 255, 0.9);
            color: #1a1a1a;
            padding: 4px 8px;
            border-radius: 8px;
            font-size: 10px;
            font-weight: 600;
            opacity: 0;
            animation: robotThought 6s ease-in-out infinite;
            white-space: nowrap;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .robot-thought::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 8px;
            width: 0;
            height: 0;
            border-left: 3px solid transparent;
            border-right: 3px solid transparent;
            border-top: 3px solid rgba(255, 255, 255, 0.9);
        }
        
        @keyframes robotFloat {
            0%, 100% { transform: translateX(-50%) translateY(0px); }
            50% { transform: translateX(-50%) translateY(-5px); }
        }
        
        @keyframes robotBlink {
            0%, 90%, 100% { opacity: 1; }
            95% { opacity: 0; }
        }
        
        @keyframes robotWaveLeft {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-10deg); }
            75% { transform: rotate(5deg); }
        }
        
        @keyframes robotWaveRight {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(10deg); }
            75% { transform: rotate(-5deg); }
        }
        
        @keyframes robotThought {
            0%, 70% { opacity: 0; transform: translateY(5px); }
            75%, 85% { opacity: 1; transform: translateY(0px); }
            90%, 100% { opacity: 0; transform: translateY(5px); }
        }

        /* Mobile Responsiveness for Action Buttons */
        @media (max-width: 768px) {
            .action-buttons {
                flex-direction: column;
                gap: 0.5rem;
            }

            .btn-primary, .btn-secondary, .btn-close {
                width: 100%;
                justify-content: center;
            }

            .ai-analysis-card {
                margin: 1rem;
                padding: 1.5rem;
            }

            .stock-header {
                flex-direction: column;
                text-align: center;
            }

            .ai-recommendation-badge {
                text-align: center;
                margin-top: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="chatgpt-container">
        <div class="header">
            <div class="brand-container">
                <a href="/" class="animated-brand">TradeWise AI</a>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="main-area">
            <!-- Robot Mascot -->
            <div class="robot-mascot">
                <div class="robot-head">
                    <div class="robot-eye left"></div>
                    <div class="robot-eye right"></div>
                    <div class="robot-mouth"></div>
                    <div class="robot-antenna"></div>
                </div>
                <div class="robot-body"></div>
                <div class="robot-arm left"></div>
                <div class="robot-arm right"></div>
                <div class="robot-legs">
                    <div class="robot-leg"></div>
                    <div class="robot-leg"></div>
                </div>
                <div class="robot-thought">Analyzing markets... üìà</div>
            </div>
            
            <!-- Centered Search Section -->
            <div class="search-section">
                <div class="hero-tagline">AI-Powered Trading</div>
                <h1 class="search-title">Discover Your Next Investment</h1>
                
                <!-- Search Input -->
                <div class="search-container">
                    <input type="text" 
                           id="stock-search-input"
                           placeholder="Ask anything about stocks... (try 'google', 'apple', or 'NVDA')"
                           class="search-input"
                           onkeypress="handleSearchEnter(event)"
                           style="background-image: none !important; -webkit-appearance: none; -moz-appearance: none; appearance: none;">
                    <button class="search-button" onclick="performStockSearch()">
                        <i class="fas fa-search"></i>
                    </button>
                    <div class="suggestions-container" id="suggestions-container" style="display: none;"></div>
                </div>
                

            </div>



            <!-- AI Results Area -->
            <div class="ai-results" id="ai-result" style="display: none;">
                <!-- AI analysis results displayed here -->
            </div>
        </div>
</div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/intelligent_search_new.js') }}"></script>
    <script>
        // Initialize the intelligent search system
        window.intelligentSearch = new IntelligentStockSearch();
    </script>
    <script>
        let currentDropdown = null;

        function toggleDropdown(dropdownId) {
            const dropdown = document.getElementById(dropdownId + '-dropdown');
            
            if (currentDropdown && currentDropdown !== dropdown) {
                currentDropdown.classList.remove('show');
            }
            
            dropdown.classList.toggle('show');
            currentDropdown = dropdown.classList.contains('show') ? dropdown : null;
        }

        function handleSearchEnter(event) {
            if (event.key === 'Enter') {
                performStockSearch();
            }
        }

        function performStockSearch() {
            const searchInput = document.getElementById('stock-search-input');
            const query = searchInput.value.trim();
            
            if (query && window.intelligentSearch) {
                window.intelligentSearch.search(query);
            }
        }

        function searchStock(symbol) {
            document.getElementById('stock-search-input').value = symbol;
            performStockSearch();
        }

        function toggleDropdown(dropdownId) {
            const content = document.getElementById(dropdownId + '-content');
            if (content) {
                const isVisible = content.style.display !== 'none';
                // Hide all dropdowns first
                document.querySelectorAll('.dropdown-content').forEach(dropdown => {
                    dropdown.style.display = 'none';
                });
                // Show the selected one if it wasn't visible
                if (!isVisible) {
                    content.style.display = 'block';
                    loadDropdownContent(dropdownId);
                }
            }
        }

        function loadDropdownContent(dropdownId) {
            const content = document.getElementById(dropdownId + '-content');
            if (!content) return;

            if (dropdownId === 'popular-stocks') {
                content.innerHTML = 
                    '<div style="display: grid; gap: 1rem;">' +
                        '<div class="stock-card" onclick="searchStock(\'AAPL\')" style="background: rgba(255,255,255,0.05); padding: 1rem; border-radius: 10px; cursor: pointer; border: 1px solid rgba(255,255,255,0.1);">' +
                            '<h4>Apple Inc. (AAPL)</h4>' +
                            '<p>$150.00 <span style="color: #10b981;">+2.5%</span></p>' +
                        '</div>' +
                        '<div class="stock-card" onclick="searchStock(\'TSLA\')" style="background: rgba(255,255,255,0.05); padding: 1rem; border-radius: 10px; cursor: pointer; border: 1px solid rgba(255,255,255,0.1);">' +
                            '<h4>Tesla Inc. (TSLA)</h4>' +
                            '<p>$250.00 <span style="color: #ef4444;">-1.2%</span></p>' +
                        '</div>' +
                        '<div class="stock-card" onclick="searchStock(\'NVDA\')" style="background: rgba(255,255,255,0.05); padding: 1rem; border-radius: 10px; cursor: pointer; border: 1px solid rgba(255,255,255,0.1);">' +
                            '<h4>NVIDIA Corp. (NVDA)</h4>' +
                            '<p>$400.00 <span style="color: #10b981;">+5.8%</span></p>' +
                        '</div>' +
                    '</div>';
            } else if (dropdownId === 'investment-themes') {
                content.innerHTML = 
                    '<div style="display: grid; gap: 1rem;">' +
                        '<div style="background: rgba(255,255,255,0.05); padding: 1rem; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1);">' +
                            '<h4>AI & Machine Learning</h4>' +
                            '<p>Growth: <span style="color: #10b981;">+15.2%</span></p>' +
                        '</div>' +
                        '<div style="background: rgba(255,255,255,0.05); padding: 1rem; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1);">' +
                            '<h4>Clean Energy</h4>' +
                            '<p>Growth: <span style="color: #10b981;">+8.7%</span></p>' +
                        '</div>' +
                        '<div style="background: rgba(255,255,255,0.05); padding: 1rem; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1);">' +
                            '<h4>Cybersecurity</h4>' +
                            '<p>Growth: <span style="color: #10b981;">+12.1%</span></p>' +
                        '</div>' +
                    '</div>';
            } else if (dropdownId === 'trading-tools') {
                content.innerHTML = 
                    '<div style="display: grid; gap: 1rem;">' +
                        '<div onclick="alert(\'My Portfolio - Coming Soon!\')" style="background: rgba(255,255,255,0.05); padding: 1rem; border-radius: 10px; cursor: pointer; border: 1px solid rgba(255,255,255,0.1);">' +
                            '<h4>üìä My Portfolio</h4>' +
                            '<p>View holdings and performance</p>' +
                        '</div>' +
                        '<div onclick="alert(\'Price Alerts - Coming Soon!\')" style="background: rgba(255,255,255,0.05); padding: 1rem; border-radius: 10px; cursor: pointer; border: 1px solid rgba(255,255,255,0.1);">' +
                            '<h4>üîî Price Alerts</h4>' +
                            '<p>Set custom stock alerts</p>' +
                        '</div>' +
                        '<div onclick="alert(\'Market Analytics - Coming Soon!\')" style="background: rgba(255,255,255,0.05); padding: 1rem; border-radius: 10px; cursor: pointer; border: 1px solid rgba(255,255,255,0.1);">' +
                            '<h4>üìà Market Analytics</h4>' +
                            '<p>Advanced market insights</p>' +
                        '</div>' +
                        '<div onclick="alert(\'Watchlist - Coming Soon!\')" style="background: rgba(255,255,255,0.05); padding: 1rem; border-radius: 10px; cursor: pointer; border: 1px solid rgba(255,255,255,0.1);">' +
                            '<h4>‚≠ê My Watchlist</h4>' +
                            '<p>Track favorite stocks</p>' +
                        '</div>' +
                    '</div>';
            }
        }

        function showSearchSuggestions(query) {
            const suggestions = document.getElementById('suggestions-container');
            
            if (!suggestions) return;
            
            if (query.length < 1) {
                suggestions.style.display = 'none';
                return;
            }

            const stockSuggestions = [
                'AAPL - Apple Inc.',
                'TSLA - Tesla Inc.',
                'NVDA - NVIDIA Corp.',
                'MSFT - Microsoft Corp.',
                'GOOGL - Alphabet Inc.',
                'AMZN - Amazon.com Inc.'
            ];

            const filtered = stockSuggestions.filter(stock => 
                stock.toLowerCase().includes(query.toLowerCase())
            );

            if (filtered.length > 0) {
                suggestions.innerHTML = filtered.map(stock => 
                    '<div class="suggestion-item" onclick="selectSuggestion(\'' + stock.split(' ')[0] + '\')">' + stock + '</div>'
                ).join('');
                suggestions.style.display = 'block';
            } else {
                suggestions.style.display = 'none';
            }
        }

        function selectSuggestion(symbol) {
            document.getElementById('stock-search-input').value = symbol;
            const suggestions = document.getElementById('suggestions-container');
            if (suggestions) suggestions.style.display = 'none';
            performStockSearch();
        }

        // Add missing displayStockResult function
        function displayStockResult(data) {
            const resultDiv = document.getElementById('ai-result');
            if (!resultDiv) return;
            
            const recommendation = data.recommendation || 'HOLD';
            const confidence = data.confidence || 75;
            const price = data.price || '0.00';
            
            resultDiv.innerHTML = '<div style="background: rgba(255,255,255,0.05); border-radius: 15px; padding: 2rem; margin: 2rem 0; border: 1px solid rgba(255,255,255,0.1);">' +
                '<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">' +
                    '<div>' +
                        '<h2 style="margin: 0; color: white; font-size: 1.5rem;">' + data.symbol + ' - ' + data.name + '</h2>' +
                        '<p style="margin: 0.5rem 0 0 0; color: rgba(255,255,255,0.7);">Current Price: $' + price + '</p>' +
                    '</div>' +
                    '<div style="text-align: right;">' +
                        '<div style="background: ' + (recommendation === 'BUY' ? '#10b981' : recommendation === 'SELL' ? '#ef4444' : '#f59e0b') + '; color: white; padding: 0.5rem 1rem; border-radius: 20px; font-weight: 600; margin-bottom: 0.5rem;">' + recommendation + '</div>' +
                        '<div style="color: rgba(255,255,255,0.6); font-size: 0.9rem;">Confidence: ' + confidence + '%</div>' +
                    '</div>' +
                '</div>' +
                '<div style="display: flex; gap: 1rem; flex-wrap: wrap;">' +
                    '<button onclick="showBuyModal(\'' + data.symbol + '\', \'' + data.name + '\', \'' + price + '\', \'' + recommendation + '\', ' + confidence + ')" style="background: linear-gradient(135deg, #10b981, #059669); color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 10px; cursor: pointer; font-weight: 600;">Buy Stock</button>' +
                    '<button onclick="addToWatchlist(\'' + data.symbol + '\', \'' + data.name + '\', \'' + price + '\')" style="background: rgba(255,255,255,0.1); color: white; border: 1px solid rgba(255,255,255,0.2); padding: 0.75rem 1.5rem; border-radius: 10px; cursor: pointer; font-weight: 600;">Add to Watchlist</button>' +
                    '<button onclick="getMoreAnalysis(\'' + data.symbol + '\')" style="background: linear-gradient(135deg, #3b82f6, #1d4ed8); color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 10px; cursor: pointer; font-weight: 600;">More Analysis</button>' +
                '</div>' +
            '</div>';
        }

        function searchStock(symbol) {
            document.getElementById('stock-search-input').value = symbol;
            performStockSearch();
            if (currentDropdown) {
                currentDropdown.classList.remove('show');
                currentDropdown = null;
            }
        }

        async function performStockSearch() {
            const input = document.getElementById('stock-search-input');
            const symbol = input.value.trim().toUpperCase();
            const resultDiv = document.getElementById('ai-result');
            
            if (!symbol) {
                showNotification('Please enter a stock symbol', 'warning');
                return;
            }

            resultDiv.style.display = 'block';
            resultDiv.innerHTML = '<div style="text-align: center; padding: 2rem;"><i class="fas fa-spinner fa-spin" style="font-size: 2rem; color: #60a5fa;"></i><br><br>Analyzing ' + symbol + ' with AI...</div>';

            try {
                const response = await fetch('/api/stock-search', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        query: symbol
                    })
                });

                const data = await response.json();

                if (data.error) {
                    resultDiv.innerHTML = '<div style="text-align: center; padding: 2rem; color: #ef4444;"><i class="fas fa-exclamation-triangle" style="font-size: 2rem;"></i><br><br>' + (data.error || 'Unable to find stock data') + '</div>';
                    showNotification(data.error || 'Unable to find stock data', 'error');
                } else {
                    displayStockResult(data);
                    showNotification('AI analysis complete for ' + symbol, 'success');
                }
            } catch (error) {
                console.error('Search error:', error);
                resultDiv.innerHTML = '<div style="text-align: center; padding: 2rem; color: #ef4444;"><i class="fas fa-exclamation-triangle" style="font-size: 2rem;"></i><br><br>Error searching for stock. Please try again.</div>';
                showNotification('Error searching for stock. Please try again.', 'error');
            }
        }

        function displayStockResult(data) {
            const resultDiv = document.getElementById('ai-result');
            const recommendation = data.ai_recommendation || 'HOLD';
            const confidence = data.confidence || 0;
            const price = data.price || data.current_price || 'N/A';
            
            resultDiv.innerHTML = 
                '<div style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(139, 92, 246, 0.1)); border: 1px solid rgba(255,255,255,0.1); border-radius: 20px; padding: 2rem; margin: 1rem 0; color: white;">' +
                '<div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1.5rem; flex-wrap: wrap;">' +
                    '<div>' +
                        '<h3 style="margin: 0 0 0.5rem 0; font-size: 1.8rem; font-weight: 700;">' + data.symbol + ' - ' + data.name + '</h3>' +
                        '<p style="margin: 0.5rem 0 0 0; color: rgba(255,255,255,0.7);">Current Price: $' + price + '</p>' +
                    '</div>' +
                    '<div style="text-align: right;">' +
                        '<div style="background: ' + (recommendation === 'BUY' ? '#10b981' : recommendation === 'SELL' ? '#ef4444' : '#f59e0b') + '; color: white; padding: 0.5rem 1rem; border-radius: 20px; font-weight: 600; margin-bottom: 0.5rem;">' + recommendation + '</div>' +
                        '<div style="color: rgba(255,255,255,0.6); font-size: 0.9rem;">Confidence: ' + confidence + '%</div>' +
                    '</div>' +
                '</div>' +
                '<div style="display: flex; gap: 1rem; flex-wrap: wrap;">' +
                    '<button onclick="showBuyModal(\'' + data.symbol + '\', \'' + data.name + '\', \'' + price + '\', \'' + recommendation + '\', ' + confidence + ')" style="background: linear-gradient(135deg, #10b981, #059669); color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 10px; cursor: pointer; font-weight: 600;">üí∞ Buy Stock</button>' +
                    '<button onclick="addToWatchlist(\'' + data.symbol + '\', \'' + data.name + '\', \'' + price + '\')" style="background: rgba(255,255,255,0.1); color: white; border: 1px solid rgba(255,255,255,0.2); padding: 0.75rem 1.5rem; border-radius: 10px; cursor: pointer; font-weight: 600;">‚≠ê Add to Watchlist</button>' +
                    '<button onclick="getMoreAnalysis(\'' + data.symbol + '\')" style="background: linear-gradient(135deg, #3b82f6, #1d4ed8); color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 10px; cursor: pointer; font-weight: 600;">üìä More Analysis</button>' +
                    '<button onclick="hideAnalysis()" style="background: linear-gradient(135deg, #ef4444, #dc2626); color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 10px; cursor: pointer; font-weight: 600;">‚úï Hide Analysis</button>' +
                '</div>' +
            '</div>';
        }

        function hideAnalysis() {
            const resultDiv = document.getElementById('ai-result');
            const searchInput = document.getElementById('stock-search-input');
            
            // Smooth fade out animation
            resultDiv.style.transition = 'opacity 0.3s ease';
            resultDiv.style.opacity = '0';
            
            setTimeout(() => {
                resultDiv.style.display = 'none';
                resultDiv.style.opacity = '1';
                searchInput.focus();
                searchInput.value = '';
                showNotification('Analysis hidden - ready for new search', 'info');
            }, 300);
        }

        function showNotification(message, type = 'info') {
            // Simple notification system
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 1rem 1.5rem;
                border-radius: 10px;
                color: white;
                font-weight: 500;
                z-index: 10000;
                backdrop-filter: blur(10px);
                animation: slideInRight 0.3s ease;
            `;
            
            const colors = {
                success: 'background: rgba(16, 185, 129, 0.9); border: 1px solid #10b981;',
                error: 'background: rgba(239, 68, 68, 0.9); border: 1px solid #ef4444;',
                warning: 'background: rgba(245, 158, 11, 0.9); border: 1px solid #f59e0b;',
                info: 'background: rgba(59, 130, 246, 0.9); border: 1px solid #3b82f6;'
            };
            
            notification.style.cssText += colors[type] || colors.info;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        function displayStockResult(data) {
            const resultDiv = document.getElementById('ai-result');
            const changeClass = data.change >= 0 ? 'positive' : 'negative';
            const changeSymbol = data.change >= 0 ? '+' : '';
            
            resultDiv.innerHTML = `
                <div class="stock-header">
                    <div>
                        <h2>${data.symbol} - ${data.name}</h2>
                        <div style="margin-top: 0.5rem;">
                            <span class="stock-price">$${data.price}</span>
                            <span class="price-change ${changeClass}">${changeSymbol}$${Math.abs(data.change).toFixed(2)} (${data.change_percent}%)</span>
                        </div>
                    </div>
                    <div>
                        <span class="ai-recommendation">${data.ai_recommendation}</span>
                        <span class="confidence-score">${data.confidence}% Confidence</span>
                    </div>
                </div>
                
                <div style="margin-bottom: 1.5rem;">
                    <h4 style="margin-bottom: 0.5rem;">AI Analysis</h4>
                    <p style="line-height: 1.6; color: rgba(255, 255, 255, 0.9);">${data.ai_analysis}</p>
                </div>
                
                <div class="action-buttons">
                    <button class="action-btn" onclick="showBuyModal('${data.symbol}', '${data.name}', ${data.price}, '${data.ai_recommendation}', ${data.confidence})">
                        <i class="fas fa-shopping-cart"></i> Buy Stock
                    </button>
                    <button class="action-btn secondary" onclick="addToWatchlist('${data.symbol}', '${data.name}', ${data.price})">
                        <i class="fas fa-star"></i> Add to Watchlist
                    </button>
                    <button class="action-btn secondary" onclick="getMoreAnalysis('${data.symbol}')">
                        <i class="fas fa-chart-line"></i> Detailed Analysis
                    </button>
                </div>
            `;
        }

        function showBuyModal(symbol, name, price, recommendation, confidence) {
            showNotification(`Opening buy modal for ${symbol} - ${recommendation} with ${confidence}% confidence`, 'info');
            // Integration with existing purchase modal system
            if (typeof showPurchaseModal !== 'undefined') {
                showPurchaseModal(symbol, name, price, recommendation, confidence);
            } else {
                alert(`Buy modal for ${symbol} would open here. Price: $${price}, Recommendation: ${recommendation}`);
            }
        }

        function addToWatchlist(symbol, name, price) {
            showNotification(`Adding ${symbol} to your watchlist`, 'info');
            // Integration with existing watchlist system
            if (typeof addToWatchlist !== 'undefined') {
                addToWatchlist(symbol, name, price);
            } else {
                showNotification(`${symbol} added to watchlist`, 'success');
            }
        }

        function getMoreAnalysis(symbol) {
            showNotification(`Loading detailed analysis for ${symbol}`, 'info');
            // Integration with advanced analytics
            if (typeof showAdvancedAnalysis !== 'undefined') {
                showAdvancedAnalysis(symbol);
            } else {
                alert(`Detailed analysis for ${symbol} would be displayed`);
            }
        }

        // Close dropdowns when clicking outside
        document.addEventListener('click', function(event) {
            if (!event.target.closest('.dropdown-container')) {
                if (currentDropdown) {
                    currentDropdown.classList.remove('show');
                    currentDropdown = null;
                }
            }
            
            if (!event.target.closest('.search-box')) {
                document.getElementById('suggestions-container').style.display = 'none';
            }
        });

        // Initialize the interface
        document.addEventListener('DOMContentLoaded', function() {
            console.log('TradeWise AI interface loaded successfully');
            
            // Initialize institutional dropdown system if available
            if (typeof InstitutionalDropdownSystem !== 'undefined') {
                window.institutionalDropdowns = new InstitutionalDropdownSystem();
                console.log('Institutional dropdown system initialized');
            }
            
            // Initialize tier integration if available
            if (typeof TierIntegrationManager !== 'undefined') {
                window.tierIntegration = new TierIntegrationManager();
                console.log('Tier integration initialized');
            }
            
            // Initialize AI stock search if available
            if (typeof initializeStockSearch !== 'undefined') {
                initializeStockSearch();
                console.log('AI stock search initialized');
            }
        });
    </script>
</body>
</html>