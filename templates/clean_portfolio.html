{% extends "clean_base.html" %}

{% block title %}Portfolio - AI Trading Platform{% endblock %}

{% block content %}
<div class="page-content">
    <div class="page-header">
        <h1 class="page-title">Portfolio</h1>
        <p class="page-subtitle">Track your investments and performance</p>
    </div>
    
    <!-- Enhanced Portfolio content -->
    <div class="portfolio-wrapper">
        <iframe src="/portfolio_content?v={{ timestamp }}" 
                style="width: 100%; height: 90vh; border: none; border-radius: 15px; background: rgba(255,255,255,0.05);" 
                frameborder="0"
                onload="this.style.background='transparent';">
        </iframe>
    </div>
    
    <script>
        // Force iframe refresh to show enhanced portfolio
        document.addEventListener('DOMContentLoaded', function() {
            const iframe = document.querySelector('iframe');
            if (iframe) {
                // Add timestamp to force cache refresh
                const timestamp = new Date().getTime();
                iframe.src = '/portfolio_content?v=' + timestamp + '&cache_bust=' + Math.random();
                
                // Force reload after 1 second if still showing old content
                setTimeout(() => {
                    iframe.src = '/portfolio_content?v=' + new Date().getTime() + '&force_refresh=1';
                }, 1000);
            }
        });
    </script>
</div>
{% endblock %}